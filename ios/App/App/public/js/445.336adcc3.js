"use strict";(self["webpackChunkandago_client"]=self["webpackChunkandago_client"]||[]).push([[445],{8065:(e,n,o)=>{o.d(n,{Z:()=>c});var s=o(6252),t=o(2262),l=o(6751),a=o(9263);const p=(0,s._)("h3",null,"Enter Top-Up Amount",-1),u=(0,s.aZ)({__name:"TopUpModal",props:{isOpen:Boolean},emits:["update:isOpen","confirm","cancel"],setup(e,{emit:n}){const o=(0,a.h)(),u=(0,t.iH)(0);function i(){n("update:isOpen",!1)}async function c(){o.axios.post("/passengers/payments/getSuggestedTopUpAmount").then((e=>{const n=e.data;console.log(n),u.value=n.suggestedTopUpAmount})).catch((e=>{console.log(e)}))}(0,s.bv)((()=>{c()}));const d=()=>{o.axios.post("/passengers/payments/topUp",{topUpAmount:u.value}).then((e=>{const n=e.data;console.log(n),o.browser.open({url:n.item.url}),o.echo.private(`PassengerChannel-${o.profile.id}`).listen(".PaymentSuccessEvent",(async e=>{console.log(e),o.browser.close();const n=await o.showToast({message:"Top Up Successful",color:"success",duration:1e3,position:"middle"});n.onDidDismiss().then((()=>{i()})),o.echo.private(`PassengerChannel-${o.profile.id}`).stopListening(".PaymentSuccessEvent")}))})).catch((e=>{console.log(e)}))};return(n,o)=>((0,s.wg)(),(0,s.j4)((0,t.SU)(l.ki),{"is-open":e.isOpen,onDismiss:i},{default:(0,s.w5)((()=>[(0,s.Wm)((0,t.SU)(l.Gu),null,{default:(0,s.w5)((()=>[(0,s.Wm)((0,t.SU)(l.sr),null,{default:(0,s.w5)((()=>[(0,s.Wm)((0,t.SU)(l.wd),null,{default:(0,s.w5)((()=>[(0,s.Uk)("Top Up")])),_:1}),(0,s.Wm)((0,t.SU)(l.Sm),{slot:"end"},{default:(0,s.w5)((()=>[(0,s.Wm)((0,t.SU)(l.YG),{strong:!0,onClick:i},{default:(0,s.w5)((()=>[(0,s.Uk)("Close")])),_:1})])),_:1})])),_:1})])),_:1}),(0,s.Wm)((0,t.SU)(l.W2),{class:"ion-padding"},{default:(0,s.w5)((()=>[(0,s.Wm)((0,t.SU)(l.q_),null,{default:(0,s.w5)((()=>[(0,s.Wm)((0,t.SU)(l.Ie),{lines:"none"},{default:(0,s.w5)((()=>[(0,s.Wm)((0,t.SU)(l.yW),{class:"ion-text-center"},{default:(0,s.w5)((()=>[p])),_:1})])),_:1}),(0,s.Wm)((0,t.SU)(l.Ie),{fill:"outline"},{default:(0,s.w5)((()=>[(0,s.Wm)((0,t.SU)(l.Q$),{position:"floating"},{default:(0,s.w5)((()=>[(0,s.Uk)("Top-Up Amount")])),_:1}),(0,s.Wm)((0,t.SU)(l.pK),{modelValue:u.value,"onUpdate:modelValue":o[0]||(o[0]=e=>u.value=e),type:"number"},null,8,["modelValue"])])),_:1}),(0,s.Wm)((0,t.SU)(l.YG),{expand:"block",onClick:d},{default:(0,s.w5)((()=>[(0,s.Uk)("Top Up")])),_:1})])),_:1})])),_:1})])),_:1},8,["is-open"]))}}),i=u,c=i},1445:(e,n,o)=>{o.r(n),o.d(n,{default:()=>p});var s=o(6252),t=o(8065);const l=(0,s.aZ)({__name:"TopUpModalTestPage",setup(e){return(e,n)=>((0,s.wg)(),(0,s.j4)(t.Z,{"is-open":!0}))}}),a=l,p=a}}]);
//# sourceMappingURL=445.336adcc3.js.map