{"version":3,"file":"js/695-legacy.6a9c9593.js","mappings":"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","sources":["webpack://andago-client/./node_modules/vue-loader/dist/exportHelper.js","webpack://andago-client/./src/components/DriverJobModal.vue?ea39","webpack://andago-client/./src/components/DriverJobModal.vue","webpack://andago-client/./src/views/driver/DriverTripPage.vue?ce43","webpack://andago-client/./src/views/driver/DriverTripPage.vue"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// runtime helper for setting properties on components\n// in a tree-shakable way\nexports.default = (sfc, props) => {\n    const target = sfc.__vccOpts || sfc;\n    for (const [key, val] of props) {\n        target[key] = val;\n    }\n    return target;\n};\n","import { defineComponent as _defineComponent } from 'vue'\nimport { createTextVNode as _createTextVNode, unref as _unref, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"div\", { id: \"map2\" }, null, -1)\n\nimport { ref, onMounted, watch, nextTick } from 'vue';\r\nimport {\r\n  IonModal, IonHeader, IonToolbar, IonTitle, IonContent, IonList, IonItem, IonLabel, IonNote, IonButton,\r\n  IonButtons, IonGrid, IonRow, IonCol, IonText, IonIcon\r\n} from '@ionic/vue';\r\nimport { TripDetails } from '@/interfaces/types';\r\nimport { useMainStore } from '@/store';\r\nimport { location, navigate } from 'ionicons/icons';\r\nimport googleMaps from '@/plugins/google-map';\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'DriverJobModal',\n  props: {\r\n  isOpen: Boolean,\r\n  tripDetails: {\r\n    type: Object as () => TripDetails,\r\n    required: true,\r\n  },\r\n},\n  emits: ['update:isOpen', 'accept', 'decline', 'update:tripDetails'],\n  setup(__props, { emit }) {\n\nconst props = __props;\n\r\nconst store = useMainStore();\r\n\r\n\r\n\r\nconst googleMap = ref(null as any);\r\n\r\nwatch(() => props.isOpen, async (newVal) => {\r\n  if (newVal) {\r\n    const center = await store.getGeolocation();\r\n    const pickUpPostion = await store.getPickUpPosition();\r\n\r\n    googleMaps.load().then((maps: any) => {\r\n      googleMap.value = new maps.Map(document.getElementById(\"map2\"), {\r\n        center: center,\r\n        zoom: 5,\r\n        disableDefaultUI: true,\r\n      });\r\n      googleMaps.calculateRoute(center, pickUpPostion, googleMap.value);\r\n    });\r\n  }\r\n});\r\n\r\n\r\n\r\nfunction closeModal() {\r\n  emit('update:isOpen', false);\r\n}\r\n\r\nfunction acceptTrip() {\r\n  emit('accept');\r\n}\r\n\r\nfunction declineTrip() {\r\n  emit('decline');\r\n}\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(_unref(IonModal), {\n    \"is-open\": __props.isOpen,\n    onDismiss: closeModal\n  }, {\n    default: _withCtx(() => [\n      _createVNode(_unref(IonHeader), null, {\n        default: _withCtx(() => [\n          _createVNode(_unref(IonToolbar), null, {\n            default: _withCtx(() => [\n              _createVNode(_unref(IonTitle), null, {\n                default: _withCtx(() => [\n                  _createTextVNode(\"Job Found\")\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }),\n      _createVNode(_unref(IonContent), null, {\n        default: _withCtx(() => [\n          _hoisted_1,\n          _createVNode(_unref(IonList), null, {\n            default: _withCtx(() => [\n              _createVNode(_unref(IonItem), null, {\n                default: _withCtx(() => [\n                  _createVNode(_unref(IonLabel), null, {\n                    default: _withCtx(() => [\n                      _createTextVNode(\"Pick-Up\")\n                    ]),\n                    _: 1\n                  }),\n                  _createVNode(_unref(IonText), null, {\n                    default: _withCtx(() => [\n                      _createElementVNode(\"h3\", null, [\n                        _createVNode(_unref(IonIcon), {\n                          icon: _unref(location),\n                          color: \"primary\"\n                        }, null, 8, [\"icon\"]),\n                        _createTextVNode(_toDisplayString(_unref(store).receivedTripJob.pickup_place.name), 1)\n                      ]),\n                      _createElementVNode(\"p\", null, _toDisplayString(_unref(store).receivedTripJob.pickup_place.address), 1)\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              }),\n              _createVNode(_unref(IonItem), null, {\n                default: _withCtx(() => [\n                  _createVNode(_unref(IonLabel), null, {\n                    default: _withCtx(() => [\n                      _createTextVNode(\"Drop-Off\")\n                    ]),\n                    _: 1\n                  }),\n                  _createVNode(_unref(IonText), null, {\n                    default: _withCtx(() => [\n                      _createElementVNode(\"h3\", null, [\n                        _createVNode(_unref(IonIcon), {\n                          icon: _unref(navigate),\n                          color: \"tertiary\"\n                        }, null, 8, [\"icon\"]),\n                        _createTextVNode(_toDisplayString(_unref(store).receivedTripJob.dropoff_place.name), 1)\n                      ]),\n                      _createElementVNode(\"p\", null, _toDisplayString(_unref(store).receivedTripJob.dropoff_place.address), 1)\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              }),\n              _createVNode(_unref(IonItem), null, {\n                default: _withCtx(() => [\n                  _createVNode(_unref(IonLabel), null, {\n                    default: _withCtx(() => [\n                      _createTextVNode(\"Distance to Pick-Up Point:\")\n                    ]),\n                    _: 1\n                  }),\n                  _createVNode(_unref(IonNote), { slot: \"end\" }, {\n                    default: _withCtx(() => [\n                      _createTextVNode(_toDisplayString(_unref(store).jobDetails.distanceToPickUp), 1)\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              }),\n              _createVNode(_unref(IonItem), null, {\n                default: _withCtx(() => [\n                  _createVNode(_unref(IonLabel), null, {\n                    default: _withCtx(() => [\n                      _createTextVNode(\"Duration to Pick-Up Point:\")\n                    ]),\n                    _: 1\n                  }),\n                  _createVNode(_unref(IonNote), { slot: \"end\" }, {\n                    default: _withCtx(() => [\n                      _createTextVNode(_toDisplayString(_unref(store).jobDetails.durationToPickUp), 1)\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              }),\n              _createVNode(_unref(IonItem), null, {\n                default: _withCtx(() => [\n                  _createVNode(_unref(IonLabel), null, {\n                    default: _withCtx(() => [\n                      _createTextVNode(\"Trip Distance:\")\n                    ]),\n                    _: 1\n                  }),\n                  _createVNode(_unref(IonNote), { slot: \"end\" }, {\n                    default: _withCtx(() => [\n                      _createTextVNode(_toDisplayString(_unref(store).receivedTripJob.distance) + \" km\", 1)\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              }),\n              _createVNode(_unref(IonItem), null, {\n                default: _withCtx(() => [\n                  _createVNode(_unref(IonLabel), null, {\n                    default: _withCtx(() => [\n                      _createTextVNode(\"Trip Duration:\")\n                    ]),\n                    _: 1\n                  }),\n                  _createVNode(_unref(IonNote), { slot: \"end\" }, {\n                    default: _withCtx(() => [\n                      _createTextVNode(_toDisplayString(_unref(store).receivedTripJob.duration) + \" mins\", 1)\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              }),\n              _createVNode(_unref(IonItem), null, {\n                default: _withCtx(() => [\n                  _createVNode(_unref(IonLabel), null, {\n                    default: _withCtx(() => [\n                      _createTextVNode(\"Fare:\")\n                    ]),\n                    _: 1\n                  }),\n                  _createVNode(_unref(IonNote), { slot: \"end\" }, {\n                    default: _withCtx(() => [\n                      _createTextVNode(\"RM \" + _toDisplayString(_unref(store).receivedTripJob.fare), 1)\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          }),\n          _createVNode(_unref(IonGrid), null, {\n            default: _withCtx(() => [\n              _createVNode(_unref(IonRow), null, {\n                default: _withCtx(() => [\n                  _createVNode(_unref(IonCol), null, {\n                    default: _withCtx(() => [\n                      _createVNode(_unref(IonButton), {\n                        color: 'primary',\n                        expand: \"block\",\n                        onClick: _cache[0] || (_cache[0] = ($event: any) => (acceptTrip()))\n                      }, {\n                        default: _withCtx(() => [\n                          _createTextVNode(\"Accept\")\n                        ]),\n                        _: 1\n                      })\n                    ]),\n                    _: 1\n                  }),\n                  _createVNode(_unref(IonCol), null, {\n                    default: _withCtx(() => [\n                      _createVNode(_unref(IonButton), {\n                        color: 'secondary',\n                        expand: \"block\",\n                        onClick: _cache[1] || (_cache[1] = ($event: any) => (declineTrip()))\n                      }, {\n                        default: _withCtx(() => [\n                          _createTextVNode(\"Decline\")\n                        ]),\n                        _: 1\n                      })\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }, 8, [\"is-open\"]))\n}\n}\n\n})","import script from \"./DriverJobModal.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./DriverJobModal.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./DriverJobModal.vue?vue&type=style&index=0&id=a90a4bec&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createTextVNode as _createTextVNode, unref as _unref, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-3ff606f6\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", null, \"Status\", -1))\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  id: \"navigationMap\",\n  style: {\"height\":\"400px\"}\n}, null, -1))\n\nimport {\r\n  IonPage, IonHeader, IonToolbar, IonTitle, IonContent, IonCard, IonCardHeader,\r\n  IonCardTitle, IonCardContent, IonButton, IonList, IonItem, IonLabel, IonNote,\r\n  IonIcon, IonToggle, IonText, IonGrid, IonRow, IonCol\r\n} from '@ionic/vue';\r\nimport DriverJobModal from '@/components/DriverJobModal.vue';\r\nimport { ref, watch, onMounted, onUnmounted } from 'vue';\r\nimport { useMainStore } from '@/store';\r\nimport { TripDetails, Place } from '@/interfaces/types';\r\nimport { Geolocation } from '@capacitor/geolocation';\r\nimport Pusher from 'pusher-js';\r\nimport googleMaps from '@/plugins/google-map';\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'DriverTripPage',\n  setup(__props) {\n\r\nconst store = useMainStore();\r\n\r\nconst tripDetails = ref({} as TripDetails);\r\n\r\nconst driverAvailable = ref(false);\r\nconst driverJobModelOpen = ref(false);\r\n\r\nconst mapRef = ref<any>(null);\r\n\r\n// onMounted(\r\n//   async () => {\r\n//     // Load the Google Maps API\r\n//     googleMaps.load().then(async (maps: any) => {\r\n//       // Initialize the map\r\n//       const map = new maps.Map(mapRef.value, {\r\n//         center: await store.currentPosition,\r\n//         zoom: 16,\r\n//       });\r\n\r\n//       // Start the navigator and track changes in the current position\r\n//       // const startCoords = await store.currentPosition;\r\n//       // const endCoords = { lat: 3.0697556, lng: 101.726957 };\r\n//       // const watchId = googleMaps.startNavigator(startCoords, endCoords, map);\r\n//       // watch(store.currentPosition, (newValue, oldValue) => {\r\n//       //   const endCoords = { lat: 3.0697556, lng: 101.726957 };\r\n//       //   googleMaps.startNavigator(newValue, endCoords, map);\r\n//       // });\r\n\r\n//       setInterval(async () => {\r\n//         const startCoords = await store.currentPosition;\r\n//         const endCoords = { lat: 3.0697556, lng: 101.726957 };\r\n//         googleMaps.startNavigator(startCoords, endCoords, map);\r\n//       }, 1000);\r\n//     });\r\n//   }\r\n// );\r\n\r\nonMounted(() => {\r\n  // Load the Google Maps API\r\n  googleMaps.load().then(async (maps: any) => {\r\n    // Initialize the map\r\n    const map = new maps.Map(document.getElementById('navigationMap'), {\r\n      center: await store.currentPosition,\r\n      zoom: 18,\r\n    });\r\n\r\n    // setInterval(\r\n    //   async () => {\r\n    const startCoords = await store.currentPosition;\r\n    const endCoords = { lat: 3.0830124, lng: 101.662267 };\r\n    await googleMaps.startNavigator(startCoords, endCoords, map);\r\n    //   },\r\n    //   1000\r\n    // );\r\n  });\r\n});\r\n\r\nfunction logout() {\r\n  store.logout();\r\n}\r\n\r\nfunction accept() {\r\n  // Accept the trip details here\r\n  driverJobModelOpen.value = false;\r\n\r\n  store.acceptTrip(store.receivedTripJob.id);\r\n\r\n  store.connectChannel(\"user-channel-\" + store.acceptedTrip.user.id);\r\n}\r\n\r\nfunction decline() {\r\n  // Decline\r\n  driverJobModelOpen.value = false;\r\n}\r\n\r\nconst pusher = new Pusher('a294542618ad0c79d7b7', {\r\n  cluster: 'ap1'\r\n});\r\n\r\nconst channel = pusher.subscribe('public-channel');\r\nchannel.bind('trip-confirmed-event', async function (event: any) {\r\n  const data = event.data;\r\n\r\n  store.receivedTripJob = event.data;\r\n\r\n  const start = await store.getGeolocation();\r\n  const end = await store.getPickUpPosition();\r\n\r\n  const distanceMatrix = await store.getDistanceMatrix(start, end);\r\n\r\n  console.log(distanceMatrix);\r\n\r\n  store.jobDetails = {\r\n    distanceToPickUp: distanceMatrix.rows[0].elements[0].distance.text,\r\n    durationToPickUp: distanceMatrix.rows[0].elements[0].duration.text,\r\n  }\r\n\r\n  driverJobModelOpen.value = true;\r\n});\r\n\r\nconst sendLocationInterval = ref(null as any);\r\n\r\nwatch(\r\n  () => store.receivedTripJob,\r\n  (newValue: any) => {\r\n    if (store.receivedTripJob) {\r\n      if (store.receivedTripJob.status === 3) {\r\n        sendLocationInterval.value = setInterval(\r\n          async () => {\r\n            store.channel?.trigger('driver-location-event', await store.currentPosition)\r\n          },\r\n          5000\r\n        )\r\n      }\r\n    }\r\n  }\r\n);\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(_unref(IonPage), null, {\n    default: _withCtx(() => [\n      _createVNode(_unref(IonHeader), null, {\n        default: _withCtx(() => [\n          _createVNode(_unref(IonToolbar), null, {\n            default: _withCtx(() => [\n              _createVNode(_unref(IonTitle), null, {\n                default: _withCtx(() => [\n                  _createTextVNode(\"Driver Page\")\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }),\n      _createVNode(_unref(IonContent), null, {\n        default: _withCtx(() => [\n          _createVNode(_unref(IonCard), { class: \"ion-text-center\" }, {\n            default: _withCtx(() => [\n              _createVNode(_unref(IonCardHeader), null, {\n                default: _withCtx(() => [\n                  _createVNode(_unref(IonCardTitle), null, {\n                    default: _withCtx(() => [\n                      _createVNode(_unref(IonText), null, {\n                        default: _withCtx(() => [\n                          _hoisted_1\n                        ]),\n                        _: 1\n                      })\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              }),\n              _createVNode(_unref(IonCardContent), { class: \"toggle-container\" }, {\n                default: _withCtx(() => [\n                  _createVNode(_unref(IonToggle), { mode: \"ios\" })\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          }),\n          _createVNode(_unref(IonButton), {\n            onClick: logout,\n            expand: \"block\"\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(\" Logout \")\n            ]),\n            _: 1\n          }),\n          _hoisted_2,\n          _createVNode(DriverJobModal, {\n            isOpen: driverJobModelOpen.value,\n            \"onUpdate:isOpen\": _cache[0] || (_cache[0] = ($event: any) => ((driverJobModelOpen).value = $event)),\n            tripDetails: tripDetails.value,\n            onAccept: accept,\n            onDecline: decline\n          }, null, 8, [\"isOpen\", \"tripDetails\"])\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","import script from \"./DriverTripPage.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./DriverTripPage.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./DriverTripPage.vue?vue&type=style&index=0&id=3ff606f6&scoped=true&lang=css\"\n\nimport exportComponent from \"c:\\\\Users\\\\Kottalo\\\\Desktop\\\\Web Development\\\\Projects\\\\Vii\\\\Apps\\\\andago-client\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3ff606f6\"]])\n\nexport default __exports__"],"names":["exports","sfc","props","target","__vccOpts","key","val","_hoisted_1","_createElementVNode","id","_defineComponent","__name","isOpen","Boolean","tripDetails","type","Object","required","emits","setup","__props","emit","store","useMainStore","googleMap","ref","closeModal","acceptTrip","declineTrip","watch","async","newVal","center","getGeolocation","pickUpPostion","getPickUpPosition","googleMaps","then","maps","value","Map","document","getElementById","zoom","disableDefaultUI","_ctx","_cache","_openBlock","_createBlock","_unref","IonModal","onDismiss","default","_withCtx","_createVNode","IonHeader","IonToolbar","IonTitle","_createTextVNode","_","IonContent","IonList","IonItem","IonLabel","IonText","IonIcon","icon","location","color","_toDisplayString","receivedTripJob","pickup_place","name","address","navigate","dropoff_place","IonNote","slot","jobDetails","distanceToPickUp","durationToPickUp","distance","duration","fare","IonGrid","IonRow","IonCol","IonButton","expand","onClick","$event","__exports__","_withScopeId","n","_pushScopeId","_popScopeId","_hoisted_2","style","driverJobModelOpen","logout","accept","connectChannel","acceptedTrip","user","decline","onMounted","map","currentPosition","startCoords","endCoords","lat","lng","pusher","Pusher","cluster","channel","subscribe","bind","event","data","start","end","distanceMatrix","getDistanceMatrix","console","log","rows","elements","text","sendLocationInterval","newValue","status","setInterval","_store$channel","trigger","IonPage","IonCard","class","IonCardHeader","IonCardTitle","IonCardContent","IonToggle","mode","DriverJobModal","onAccept","onDecline"],"sourceRoot":""}