{"version":3,"file":"js/273-legacy.7d1bba49.js","mappings":"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","sources":["webpack://andago-client/./src/components/ReceivedTripModal.vue?a1f7","webpack://andago-client/./src/components/ReceivedTripModal.vue","webpack://andago-client/./src/views/DriverMain.vue?b45d","webpack://andago-client/./src/views/DriverMain.vue"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { createTextVNode as _createTextVNode, unref as _unref, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"div\", { id: \"map2\" }, null, -1)\n\nimport { ref, onMounted, watch, nextTick } from 'vue';\r\nimport {\r\n  IonModal, IonHeader, IonToolbar, IonTitle, IonContent, IonList, IonItem, IonLabel, IonNote, IonButton,\r\n  IonButtons, IonGrid, IonRow, IonCol, IonText, IonIcon\r\n} from '@ionic/vue';\r\nimport { useMainStore } from '@/store';\r\nimport { location, navigate } from 'ionicons/icons';\r\nimport googleMaps from '@/plugins/google-map';\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ReceivedTripModal',\n  props: {\r\n  isOpen: Boolean,\r\n  receivedTrip: {\r\n    type: Object as () => any,\r\n    required: true,\r\n  },\r\n},\n  emits: ['update:isOpen', 'accept', 'update:receivedTrip'],\n  setup(__props, { emit }) {\n\nconst props = __props;\n\r\nconst store = useMainStore();\r\n\r\n\r\n\r\nconst googleMap = ref(null as any);\r\n\r\nwatch(() => props.isOpen, async (newVal) => {\r\n  if (newVal) {\r\n    const center = await store.getGeolocation();\r\n    // const pickUpPostion = await store.getPickUpPosition();\r\n\r\n    googleMaps.load().then((maps: any) => {\r\n      googleMap.value = new maps.Map(document.getElementById(\"map2\"), {\r\n        center: center,\r\n        zoom: 5,\r\n        disableDefaultUI: true,\r\n      });\r\n      googleMaps.calculateRoute(center, props.receivedTrip.pickup_place, googleMap.value);\r\n    });\r\n  }\r\n});\r\n\r\n\r\n\r\nfunction closeModal() {\r\n  emit('update:isOpen', false);\r\n}\r\n\r\nfunction acceptTrip() {\r\n  emit('update:isOpen', false);\r\n  store.axios.post('/drivers/trips/acceptTrip', {\r\n    trip_id: props.receivedTrip.id,\r\n  }).then((response) => {\r\n    const data = response.data;\r\n\r\n    store.showToast({\r\n      message: data.message,\r\n      duration: 2000,\r\n      position: 'middle',\r\n    })\r\n\r\n    if (data.status === 'success') {\r\n      store.acceptedTrip = data.trip;\r\n    }\r\n  }).catch((err) => {\r\n    console.log(err);\r\n  });\r\n}\r\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(_unref(IonModal), { \"is-open\": __props.isOpen }, {\n    default: _withCtx(() => [\n      _createVNode(_unref(IonHeader), null, {\n        default: _withCtx(() => [\n          _createVNode(_unref(IonToolbar), null, {\n            default: _withCtx(() => [\n              _createVNode(_unref(IonTitle), null, {\n                default: _withCtx(() => [\n                  _createTextVNode(\"Job Found\")\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }),\n      _createVNode(_unref(IonContent), null, {\n        default: _withCtx(() => [\n          _hoisted_1,\n          _createVNode(_unref(IonList), null, {\n            default: _withCtx(() => [\n              _createVNode(_unref(IonItem), null, {\n                default: _withCtx(() => [\n                  _createVNode(_unref(IonLabel), null, {\n                    default: _withCtx(() => [\n                      _createTextVNode(\"Pick-Up\")\n                    ]),\n                    _: 1\n                  }),\n                  _createVNode(_unref(IonText), null, {\n                    default: _withCtx(() => [\n                      _createElementVNode(\"h3\", null, [\n                        _createVNode(_unref(IonIcon), {\n                          icon: _unref(location),\n                          color: \"primary\"\n                        }, null, 8, [\"icon\"]),\n                        _createTextVNode(_toDisplayString(__props.receivedTrip.pickup_place.name), 1)\n                      ]),\n                      _createElementVNode(\"p\", null, _toDisplayString(__props.receivedTrip.pickup_place.address), 1)\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              }),\n              _createVNode(_unref(IonItem), null, {\n                default: _withCtx(() => [\n                  _createVNode(_unref(IonLabel), null, {\n                    default: _withCtx(() => [\n                      _createTextVNode(\"Drop-Off\")\n                    ]),\n                    _: 1\n                  }),\n                  _createVNode(_unref(IonText), null, {\n                    default: _withCtx(() => [\n                      _createElementVNode(\"h3\", null, [\n                        _createVNode(_unref(IonIcon), {\n                          icon: _unref(navigate),\n                          color: \"tertiary\"\n                        }, null, 8, [\"icon\"]),\n                        _createTextVNode(_toDisplayString(__props.receivedTrip.dropoff_place.name), 1)\n                      ]),\n                      _createElementVNode(\"p\", null, _toDisplayString(__props.receivedTrip.dropoff_place.address), 1)\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              }),\n              _createVNode(_unref(IonItem), null, {\n                default: _withCtx(() => [\n                  _createVNode(_unref(IonLabel), null, {\n                    default: _withCtx(() => [\n                      _createTextVNode(\"Trip Distance:\")\n                    ]),\n                    _: 1\n                  }),\n                  _createVNode(_unref(IonNote), { slot: \"end\" }, {\n                    default: _withCtx(() => [\n                      _createTextVNode(_toDisplayString(__props.receivedTrip.distance) + \" km\", 1)\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              }),\n              _createVNode(_unref(IonItem), null, {\n                default: _withCtx(() => [\n                  _createVNode(_unref(IonLabel), null, {\n                    default: _withCtx(() => [\n                      _createTextVNode(\"Trip Duration:\")\n                    ]),\n                    _: 1\n                  }),\n                  _createVNode(_unref(IonNote), { slot: \"end\" }, {\n                    default: _withCtx(() => [\n                      _createTextVNode(_toDisplayString(__props.receivedTrip.duration) + \" mins\", 1)\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              }),\n              _createVNode(_unref(IonItem), null, {\n                default: _withCtx(() => [\n                  _createVNode(_unref(IonLabel), null, {\n                    default: _withCtx(() => [\n                      _createTextVNode(\"Fare:\")\n                    ]),\n                    _: 1\n                  }),\n                  _createVNode(_unref(IonNote), { slot: \"end\" }, {\n                    default: _withCtx(() => [\n                      _createTextVNode(\"RM \" + _toDisplayString(__props.receivedTrip.fare), 1)\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          }),\n          _createVNode(_unref(IonGrid), null, {\n            default: _withCtx(() => [\n              _createVNode(_unref(IonRow), null, {\n                default: _withCtx(() => [\n                  _createVNode(_unref(IonCol), null, {\n                    default: _withCtx(() => [\n                      _createVNode(_unref(IonButton), {\n                        color: 'primary',\n                        expand: \"block\",\n                        onClick: acceptTrip\n                      }, {\n                        default: _withCtx(() => [\n                          _createTextVNode(\"Accept\")\n                        ]),\n                        _: 1\n                      })\n                    ]),\n                    _: 1\n                  }),\n                  _createVNode(_unref(IonCol), null, {\n                    default: _withCtx(() => [\n                      _createVNode(_unref(IonButton), {\n                        color: 'secondary',\n                        expand: \"block\",\n                        onClick: closeModal\n                      }, {\n                        default: _withCtx(() => [\n                          _createTextVNode(\"Decline\")\n                        ]),\n                        _: 1\n                      })\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }, 8, [\"is-open\"]))\n}\n}\n\n})","import script from \"./ReceivedTripModal.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./ReceivedTripModal.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./ReceivedTripModal.vue?vue&type=style&index=0&id=70fd027c&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nimport { watch, ref, onMounted } from 'vue';\r\nimport { IonTabBar, IonTabButton, IonTabs, IonLabel, IonIcon, IonPage, IonRouterOutlet } from '@ionic/vue';\r\nimport { person, car, chatbox, settings } from 'ionicons/icons';\r\nimport { useMainStore } from '@/store';\r\nimport { Geolocation } from '@capacitor/geolocation';\r\nimport { Coordinate } from '@/interfaces/types';\r\nimport ReceivedTripModal from '@/components/ReceivedTripModal.vue';\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'DriverMain',\n  setup(__props) {\n\r\nconst store = useMainStore();\r\n\r\nconst receivedTripModalOpen = ref(false);\r\nconst receivedTrip = ref({} as any);\r\n\r\nconst receivedTrips = ref([] as any[]);\r\n\r\nstore.echo.private(`DriverChannel-${store.profile.id}`)\r\n  .listen('.TripConfirmedEvent', async (data: any) => {\r\n\r\n    if (receivedTripModalOpen.value) {\r\n      receivedTrips.value.push(data.trip);\r\n    }\r\n    else {\r\n      receivedTrip.value = data.trip;\r\n      receivedTripModalOpen.value = true;\r\n    }\r\n  });\r\n\r\nwatch(\r\n  () => receivedTripModalOpen.value,\r\n  (value) => {\r\n    if (!value) {\r\n      if (receivedTrips.value.length > 0) {\r\n        setTimeout(() => {\r\n          receivedTrip.value = receivedTrips.value.shift();\r\n          receivedTripModalOpen.value = true;\r\n        }, 500);\r\n      }\r\n    }\r\n  }\r\n);\r\n\r\nstore.echo.join('DriverChannel');\r\n\r\nGeolocation.watchPosition({}, (position, err) => {\r\n  const data = {\r\n    position: {\r\n      lat: position?.coords.latitude,\r\n      lng: position?.coords.longitude\r\n    } as Coordinate\r\n  }\r\n\r\n  store.axios.post('/drivers/updatePosition', data)\r\n    .then((response) => {\r\n      // console.log(response.data)\r\n    })\r\n    .catch((error) => {\r\n      console.log(error)\r\n    })\r\n});\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createVNode(_unref(IonPage), null, {\n      default: _withCtx(() => [\n        _createVNode(_unref(IonTabs), null, {\n          default: _withCtx(() => [\n            _createVNode(_unref(IonRouterOutlet)),\n            _createVNode(_unref(IonTabBar), {\n              color: \"primary\",\n              slot: \"bottom\"\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_unref(IonTabButton), {\n                  tab: \"tab1\",\n                  href: \"/driver/profile\"\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_unref(IonIcon), {\n                      \"aria-hidden\": \"true\",\n                      icon: _unref(person)\n                    }, null, 8, [\"icon\"]),\n                    _createVNode(_unref(IonLabel), null, {\n                      default: _withCtx(() => [\n                        _createTextVNode(\"Profile\")\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_unref(IonTabButton), {\n                  tab: \"tab2\",\n                  href: \"/driver/trip\"\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_unref(IonIcon), {\n                      \"aria-hidden\": \"true\",\n                      icon: _unref(car)\n                    }, null, 8, [\"icon\"]),\n                    _createVNode(_unref(IonLabel), null, {\n                      default: _withCtx(() => [\n                        _createTextVNode(\"Job\")\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_unref(IonTabButton), {\n                  tab: \"tab3\",\n                  href: \"/driver/chat\"\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_unref(IonIcon), {\n                      \"aria-hidden\": \"true\",\n                      icon: _unref(chatbox)\n                    }, null, 8, [\"icon\"]),\n                    _createVNode(_unref(IonLabel), null, {\n                      default: _withCtx(() => [\n                        _createTextVNode(\"Chat\")\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_unref(IonTabButton), {\n                  tab: \"tab4\",\n                  href: \"/driver/settings\"\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_unref(IonIcon), {\n                      \"aria-hidden\": \"true\",\n                      icon: _unref(settings)\n                    }, null, 8, [\"icon\"]),\n                    _createVNode(_unref(IonLabel), null, {\n                      default: _withCtx(() => [\n                        _createTextVNode(\"Settings\")\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }),\n    _createVNode(ReceivedTripModal, {\n      isOpen: receivedTripModalOpen.value,\n      \"onUpdate:isOpen\": _cache[0] || (_cache[0] = ($event: any) => ((receivedTripModalOpen).value = $event)),\n      \"received-trip\": receivedTrip.value,\n      \"onUpdate:receivedTrip\": _cache[1] || (_cache[1] = ($event: any) => ((receivedTrip).value = $event))\n    }, null, 8, [\"isOpen\", \"received-trip\"])\n  ], 64))\n}\n}\n\n})","import script from \"./DriverMain.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./DriverMain.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["_hoisted_1","_createElementVNode","id","_defineComponent","__name","props","isOpen","Boolean","receivedTrip","type","Object","required","emits","setup","__props","emit","store","useMainStore","googleMap","ref","closeModal","acceptTrip","axios","post","trip_id","then","response","data","showToast","message","duration","position","status","acceptedTrip","trip","catch","err","console","log","watch","async","newVal","center","getGeolocation","googleMaps","maps","value","Map","document","getElementById","zoom","disableDefaultUI","pickup_place","_ctx","_cache","_openBlock","_createBlock","_unref","IonModal","default","_withCtx","_createVNode","IonHeader","IonToolbar","IonTitle","_createTextVNode","_","IonContent","IonList","IonItem","IonLabel","IonText","IonIcon","icon","location","color","_toDisplayString","name","address","navigate","dropoff_place","IonNote","slot","distance","fare","IonGrid","IonRow","IonCol","IonButton","expand","onClick","__exports__","receivedTripModalOpen","receivedTrips","echo","private","profile","listen","push","length","setTimeout","shift","join","Geolocation","lat","coords","latitude","lng","longitude","error","_createElementBlock","_Fragment","IonPage","IonTabs","IonRouterOutlet","IonTabBar","IonTabButton","tab","href","person","car","chatbox","settings","ReceivedTripModal","$event"],"sourceRoot":""}